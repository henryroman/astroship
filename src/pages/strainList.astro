---
import Layout from "@layouts/Layout.astro";
import Container from "@components/container.astro";
import Productlist from "@components/productList1.astro";
import Logo from "@components/actuallogos.astro";


import { webhook } from "../../config";
import { Fragment } from 'preact';

// Define the Product interface
interface Product {
  slug: string;
  name: string;
  description: string;
  description5: string;
  ClonePrice: string;
  // Add other properties as needed
}

// Initialize products2 with the Product type
let products2: Product[] = [];

try {
  // Fetch data from the webhook
  const response = await fetch(webhook);

  if (!response.ok) {
    throw new Error(`HTTP error! status: ${response.status}`);
  }

  // Parse the JSON data
  const data = await response.json();
  console.log('Fetched data:', data); // Debugging line

  // Ensure that data is an array
  if (Array.isArray(data)) {
    products2 = data as Product[];
  } else {
    throw new Error('Fetched data is not an array');
  }
} catch (error) {
  console.error('Error fetching products:', error);
  // products2 remains an empty array in case of an error
}

---


<Layout title="Strain List" description="Explore Calamus Nursery's premium selection of cannabis strains, offering top-quality genetics sourced from renowned breeders like Sherbzilla, Happy Dreams Genetics, and more. Our strain list includes a variety of clones, from popular favorites like Ajo Blanco and Bacio Gelato to unique hybrids like Black Trufflez and Carbon Candy. Each product is carefully cultivated and paired with its breeder logo, ensuring authenticity and quality. Whether you're a cultivator seeking high-performing strains or a connoisseur looking for exclusive genetics, our collection provides something for every cannabis enthusiast in California's thriving market.">
    <Container>
        <Productlist />
    </Container>
  </Layout>
